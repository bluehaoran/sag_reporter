<% provide(:title, 'Make Report') %>
<h1><i class="material-icons large">create</i> Make a Report</h1>
<div class="row">
  <%= form_for(@report, html: {class: "col s12"}) do |f| %>
    <%= render 'shared/error_messages', object: f.object %>

    <div class="row">
      <div class="input-field col s12">
        <i class="material-icons prefix">create</i>
        <%= f.text_area :content, class: "materialize-textarea" %>
        <%= f.label :content, "Type your report here." %>
      </div>
    </div>

    <div class="row">
      <div class="file-field input-field col s12">
        <input class="file-path validate" type="text"/>
        <div class="btn-flat">
          <i class="material-icons left">insert_photo</i>
          <span>Include Photo</span>
          <input type="file" />
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col s6">
        <%= radio_button_tag("report-type", "impact") %>
        <%= label_tag("report-type_impact", "This is an impact report") %>
        <%= radio_button_tag("report-type", "planning") %>
        <%= label_tag("report-type_planning", "This is a hope, challenge or future planning report") %>
      </div>
      <div class="col s6">
        <% Report.categories.each do |key, category| %>
          <div>
            <%= f.check_box(key) %>
            <%= f.label(key, "Concerns the #{category}.") %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="row">
      <div class="input-field col s6">
        <%= render partial: "shared/multiselect", locals: {
              text: "Relates to languages...",
              icon: "language",
              object: "report",
              attribute: "languages",
              display: :name,
              collection: @minority_languages,
              selected: Hash.new
        } %>
      </div>
      <div class="input-field col s6">
        <%= render partial: "shared/multiselect", locals: {
              text: "Relates to topics...",
              icon: "local_offer",
              object: "report",
              attribute: "topics",
              display: :name,
              collection: @topics,
              selected: Hash.new
        } %>
      </div>
    </div>

    <div class="row">
      <%= button_tag( :class => "btn waves-effect waves-light right") do %>
        Submit <i class="material-icons right">send</i>
      <% end %>
    </div>
  <% end %>
</div>
