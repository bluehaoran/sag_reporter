<% provide(:title, 'Reports grouped by Reporter') %>
<h1>Reports grouped by Reporter</h1>
  <div class="switch">
    <label>
      Hide archived
      <input type="checkbox" id="show_archived_reports">
      <span class="lever"></span>
      Show archived
    </label>
  </div>
<ul class="collapsible" data-collapsible="accordion">
  <% @reports.group_by(&:reporter).each do |reporter, rep_reports| %>
    <li>
      <div class="collapsible-header"><%= reporter.name %></div>
      <div class="collapsible-body">
        <% rep_reports.in_groups_of(3, false) do |report_group| %>
          <div class="row">
            <%= render partial: "report", collection: report_group, locals: {time: true, languages: true, topics: true, wrapper: "col s12 m6 l4"} %>
          </div>
        <% end %>
      </div>
    </li>
  <% end %>
</ul>