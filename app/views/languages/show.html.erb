<% provide(:title, 'Show Language: ' + @language.name) %>
<h1 class="coloured <%= colour_class(@language.colour) %>"><%= @language.name %></h1>
<% if @language.iso %>
    <p class="iso" id="iso_<%= @language.iso %>">(<%= @language.iso %>)</p>
    <paper-tooltip position="right" for="iso_<%= @language.iso %>">ISO 693-2 code</paper-tooltip>
<% end %>

<% if @language.population %>
    <p>
      <span id="pop_<%= @language.iso %>">
        Population: <strong><%= number_with_delimiter(@language.population, :delimiter => ',') %></strong>
      </span>
      <% if @language.pop_source %>
        <paper-tooltip position="top" for="pop_<%= @language.iso %>">source: <%= @language.pop_source.name %></paper-tooltip>
      <% end %>
    </p>
<% end %>
<% if @language.family %>
    <p>Family: <strong><%= @language.family_name %></strong></p>
<% end %>
<% if @language.description %>
    <p><%= @language.description %></p>
<% end %>
<% if @language.cluster %>
    <p>Cluster: <strong><%= @language.cluster_name %></strong></p>
<% end %>
<% if @language.info %>
    <p><%= @language.info %></p>
<% end %>

<style is="custom-style">
  <% backgound_colour = materialize_colours_hex[@language.colour] %>
  <% foregound_colour = get_contrast(backgound_colour) %>
  easy-paper-tabs {
    --tabs-background-colour: <%= backgound_colour %>;
    --tabs-colour: <%= foregound_colour %>;
  }
  paper-fab {
    --paper-fab-background: <%= backgound_colour %>;
    color: <%= foregound_colour %>;
  }
</style>

<easy-paper-tabs selected="0">
  <paper-tab>TRANSLATION STATUS</paper-tab>
  <paper-tab>RESOURCES AVAILABLE</paper-tab>
  <paper-tab>JOSHUA PROJECT DATA</paper-tab>
  <div class="page">
    <% if @language.number_of_translations && @language.number_of_translations > 0 %>
        <p>Already existing: <strong><%= @language.number_of_translations %></strong> Bible <%= 'version'.pluralize(@language.number_of_translations) %></p>
    <% end %>
    <p>Translation need: <strong><%= @language.translation_need.humanize %></strong></p>
    <p>Translation progress: <strong><%= @language.translation_progress.humanize %></strong></p>
    <% if @language.translation_info %>
      <p><%= @language.translation_info %></p>
    <% end %>
  </div>
  <div class="page">Page 2</div>
  <div class="page">Page 3</div>
</easy-paper-tabs>



<% if logged_in_user.can_edit_language? %>
    <%= link_to edit_language_path(@language), class: 'right' do %>
      <paper-fab icon="create" title="Edit"></paper-fab>
    <% end %>
<% end %>

<% if logged_in_user.can_view_all_languages? %>
  <%= link_to languages_path, class: "waves-effect btn" do %>
    All languages
  <% end %>
<% end %>
