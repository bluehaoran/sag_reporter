<% if object.errors.any? %>
  <div id="error_explanation" class="card red">
    <div class="card-content">
      <span class="card-title white-text">
        <i class="material-icons">error</i>
        The form contains <%= pluralize(object.errors.count, "error") %>.
        <i class="material-icons right">more_vert</i>
      </span>
    </div>
    <div class="card-action">
      <ul id="error-list" class="collection">
      <% object.errors.full_messages.each do |msg| %>
        <li class="collection-item"><%= msg %></li>
      <% end %>
      </ul>
    </div>
  </div>
<% end %>
<style is="custom-style">
  paper-card.form-errors {
    --paper-card-background-color: <%= materialize_colours_hex['red accent-2'] %>;
    width: 100%;
  }
</style>
<paper-card heading="The form contains errors" class="hide form-errors">
  <div class="card-content" role="listbox">
  </div>
</paper-card>
<script>
  function parseErrors(errors) {
    let amount = errors.length;
    $('paper-card.form-errors').removeClass('hide').attr('heading', 'The form contains ' + amount + ' error(s)');
    for (var i = 0; i < amount; i++) {
      $('paper-card.form-errors .card-content').append('<paper-item>' + errors[i] + '</paper-item>');
    }
  }
</script>